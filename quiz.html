<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Online Quiz System</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      perspective: 1000px;
    }
    @keyframes float {
      0% { transform: translateZ(0) rotateX(5deg) rotateY(5deg); }
      50% { transform: translateZ(20px) rotateX(3deg) rotateY(3deg); }
      100% { transform: translateZ(0) rotateX(5deg) rotateY(5deg); }
    }
    @keyframes flipIn {
      0% { transform: rotateY(90deg); opacity: 0; }
      100% { transform: rotateY(0deg); opacity: 1; }
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    @keyframes slideInSidebar {
      0% { transform: translateX(-100%); }
      100% { transform: translateX(0); }
    }
    .quiz-box {
      transform-style: preserve-3d;
      animation: float 6s ease-in-out infinite;
    }
    .option {
      transform-style: preserve-3d;
      animation: flipIn 0.5s ease-out forwards;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .option:hover {
      transform: translateZ(20px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
    }
    .correct { background-color: #10B981 !important; transform: translateZ(30px); }
    .wrong { background-color: #EF4444 !important; transform: translateZ(30px); }
    .progress-bar {
      transform-style: preserve-3d;
      transform: translateZ(10px);
    }
    .progress-fill {
      transform-style: preserve-3d;
      transform: translateZ(5px);
    }
    .sidebar {
      transition: transform 0.3s ease-in-out;
    }
    .sidebar-hidden {
      transform: translateX(-100%);
    }
    .sidebar-visible {
      transform: translateX(0);
      animation: slideInSidebar 0.3s ease-out;
    }
    .title-gradient {
      background: linear-gradient(45deg, #4f46e5, #c026d3, #ec4899);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-950 via-purple-950 to-pink-900 flex items-center justify-center p-4 overflow-hidden">
  <div class="flex w-full max-w-5xl">
    <div id="sidebar" class="sidebar sidebar-hidden fixed md:static top-0 left-0 w-64 bg-gray-900/95 backdrop-blur-lg p-4 rounded-r-2xl shadow-[0_10px_30px_rgba(0,0,0,0.7)] h-full md:h-auto transform-style preserve-3d z-10">
      <h2 class="text-xl font-bold text-white mb-4">Score Tracker</h2>
      <button id="toggleSidebar" class="md:hidden bg-indigo-500 text-white px-2 py-1 rounded-lg mb-4">Toggle Sidebar</button>
      <ul id="scoreList" class="text-gray-200 space-y-2"></ul>
    </div>
    <div class="flex-1 flex flex-col items-center">
      <header class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-extrabold title-gradient drop-shadow-[0_5px_10px_rgba(0,0,0,0.5)] animate-pulse">Online Quiz System</h1>
      </header>
      <div class="quiz-box bg-gray-900/95 backdrop-blur-lg p-6 md:p-8 rounded-2xl shadow-[0_20px_50px_rgba(0,0,0,0.7)] w-full max-w-lg">
        <div class="progress-bar w-full bg-gray-800 rounded-full h-3 mb-6 shadow-inner">
          <div id="progress" class="progress-fill bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-500" style="width: 0%"></div>
        </div>
        <h2 id="question" class="text-xl md:text-2xl font-semibold text-white mb-6 drop-shadow-md"></h2>
        <div id="options" class="space-y-3"></div>
        <div class="timer text-gray-200 mt-6 text-lg font-medium drop-shadow" id="timer"></div>
        <div class="score text-white mt-4 text-lg font-bold drop-shadow" id="score"></div>
      </div>
    </div>
  </div>

  <script>
    const quiz = [
      {
        question: "What is the time complexity of inserting an element into a sorted array (after shifting elements)?",
        options: ["O(1)", "O(log n)", "O(n)", "O(n^2)"],
        correct: "C"
      },
      {
        question: "Which data structure is used to implement a LIFO (Last In, First Out) mechanism?",
        options: ["Queue", "Stack", "Binary Tree", "Linked List"],
        correct: "B"
      },
      {
        question: "In a binary search tree, where is the smallest element located?",
        options: ["Root node", "Rightmost node", "Leftmost node", "Middle node"],
        correct: "C"
      },
      {
        question: "What is the space complexity of a recursive factorial function (excluding the return value)?",
        options: ["O(1)", "O(n)", "O(n^2)", "O(log n)"],
        correct: "B"
      },
      {
        question: "What is the best-case time complexity of QuickSort?",
        options: ["O(n)", "O(n log n)", "O(n^2)", "O(log n)"],
        correct: "B"
      },
      {
        question: "Which data structure is best suited for implementing a priority queue?",
        options: ["Array", "Linked List", "Heap", "Stack"],
        correct: "C"
      },
      {
        question: "What is the time complexity of searching in a balanced binary search tree?",
        options: ["O(1)", "O(log n)", "O(n)", "O(n log n)"],
        correct: "B"
      },
      {
        question: "Which algorithm is used to find the shortest path in a weighted graph?",
        options: ["Breadth-First Search", "Depth-First Search", "Dijkstra's Algorithm", "Merge Sort"],
        correct: "C"
      }
    ];

    let current = 0;
    let score = 0;
    let timeLeft = 15;
    let timerInterval;
    let questionScores = [];

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const timerEl = document.getElementById("timer");
    const scoreEl = document.getElementById("score");
    const progressEl = document.getElementById("progress");
    const scoreListEl = document.getElementById("scoreList");
    const sidebarEl = document.getElementById("sidebar");
    const toggleSidebarBtn = document.getElementById("toggleSidebar");

    function updateProgress() {
      const progress = ((current + 1) / quiz.length) * 100;
      progressEl.style.width = ${progress}%;
    }

    function updateScoreList() {
      scoreListEl.innerHTML = "";
      questionScores.forEach((result, idx) => {
        const li = document.createElement("li");
        li.className = "text-sm p-2 rounded bg-gray-800";
        li.textContent = Q${idx + 1}: ${result ? "Correct âœ…" : "Incorrect âŒ"};
        scoreListEl.appendChild(li);
      });
      sidebarEl.classList.add("sidebar-visible");
      sidebarEl.classList.remove("sidebar-hidden");
    }

    function loadQuestion() {
      clearInterval(timerInterval);
      timeLeft = 15;
      timerEl.textContent = Time left: ${timeLeft}s;
      const q = quiz[current];
      questionEl.textContent = Q${current + 1}: ${q.question};
      optionsEl.innerHTML = "";
      scoreEl.textContent = "";
      updateProgress();

      q.options.forEach((opt, idx) => {
        const option = document.createElement("div");
        option.className = "option bg-gray-700 text-white p-4 rounded-lg cursor-pointer shadow-[0_5px_15px_rgba(0,0,0,0.3)]";
        option.style.animationDelay = ${idx * 0.1}s;
        option.textContent = String.fromCharCode(65 + idx) + ". " + opt;
        option.onclick = () => checkAnswer(String.fromCharCode(65 + idx));
        optionsEl.appendChild(option);
      });

      timerInterval = setInterval(() => {
        timeLeft--;
        timerEl.textContent = Time left: ${timeLeft}s;
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          questionScores.push(false);
          scoreEl.textContent = Time's up! Correct: ${quiz[current].correct};
          optionsEl.querySelectorAll(".option").forEach(opt => opt.classList.add("opacity-50", "cursor-not-allowed"));
          updateScoreList();
          setTimeout(nextQuestion, 1000);
        }
      }, 1000);
    }

    function checkAnswer(ans) {
      clearInterval(timerInterval);
      const correct = quiz[current].correct;
      const options = optionsEl.querySelectorAll(".option");
      options.forEach((opt, idx) => {
        opt.classList.add("opacity-50", "cursor-not-allowed");
        if (String.fromCharCode(65 + idx) === correct) {
          opt.classList.add("correct");
        }
        if (String.fromCharCode(65 + idx) === ans && ans !== correct) {
          opt.classList.add("wrong");
        }
      });

      if (ans === correct) {
        score++;
        questionScores.push(true);
        scoreEl.textContent = "Correct! ðŸŽ‰";
      } else {
        questionScores.push(false);
        scoreEl.textContent = Wrong! Correct: ${correct};
      }
      updateScoreList();
      setTimeout(nextQuestion, 1500);
    }

    function nextQuestion() {
      current++;
      if (current < quiz.length) {
        loadQuestion();
      } else {
        questionEl.textContent = "Quiz Over!";
        optionsEl.innerHTML = "";
        timerEl.textContent = "";
        scoreEl.textContent = Final Score: ${score} / ${quiz.length};
        progressEl.style.width = "100%";
        scoreEl.classList.add("text-2xl", "text-indigo-300", "pulse");
      }
    }

    toggleSidebarBtn.addEventListener("click", () => {
      sidebarEl.classList.toggle("sidebar-hidden");
      sidebarEl.classList.toggle("sidebar-visible");
    });

    loadQuestion();
  </script>
</body>
</html>